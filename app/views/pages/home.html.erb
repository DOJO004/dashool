<div class="w-full ">
  <div class="my-12">
    <div>
      <h1 class="my-4 text-center ">Tipsy Dog</h1>
      <h2 class="my-4 text-center">釋放你的創意調酒</h2>
    </div>
    <div class="flex justify-center gap-4 my-4">
      <% if current_user.nil? %>
        <%= link_to new_user_registration_path, class:"flex gap-2 items-center bg-amber-900 rounded-md p-2 hover:bg-amber-800" do%>
          <%= image_tag "user.png", alt:"registration icon", class:"w-4"%>
          <p>註冊會員</p>
        <% end %>
        <%= link_to new_user_session_path, class:"border border-gray-500 rounded-md p-2 hover:border-white" do%>
          <p>登入</p>
        <% end %>
      <% else %>
        <%= link_to "+ 新增自己的酒譜", new_cocktail_path, class:"p-2 border  border-gray-500 rounded-md hover:border-white w-fit"%>
      <% end %>
    </div>
  </div>
  <div>
    <div>
      <%# 用戶創意調酒 %>
      <h3>熱門酒譜</h3>
      <div class="grid gap-2 md:grid-cols-2 lg:grid-cols-3">
        <% @cocktails.each do |cocktail|%>
          <%= link_to cocktail_path(cocktail.id) do %>
            <div class="w-full p-2 my-2 border border-gray-400 rounded-md hover:border-white">
              <%= image_tag cocktail.images.first.variant(resize_to_fill: [500, 500]), class:"w-full  mx-auto rounded-sm" if cocktail.images.attached?%>
              <div class="mt-4">
                <p><%= cocktail.user.full_name %></p>
                <div class="flex items-center justify-between">
                  <h4 class="font-bold"><%= cocktail.name%></h4>
                  <div class="flex items-center gap-2">
                    <%= image_tag "heart.png", class:"w-4 md:w-6 "%>
                    <p><%= cocktail.likes.count%> </p>
                  </div>
                </div>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
    <div>
      <%# 官方經典調酒 %>
      <div class="flex items-end justify-between ">
        <h3>經典調酒</h3>
        <%= link_to "所有經典調酒 →", classic_cocktails_path, class:"border border-gray-400 text-gray-400 rounded-md p-1 hover:text-white"%>
      </div>
      <div class="flex items-center gap-2 overflow-auto">
        <% @classic_cocktails.each do |classic_cocktail|%>
          <%= link_to classic_cocktail_path(classic_cocktail.id) do %>
            <div class="p-2 my-2 border border-gray-400 rounded-md w-[175px] hover:border-white">
              <% if classic_cocktail.image.attached? %>
                <%= image_tag classic_cocktail.image, class:" rounded-sm"%>
              <% else %>
                <%= image_tag "https://fakeimg.pl/1920x1080/", class:"rounded-sm"%>
              <% end %>
              <h4 class="mb-2 truncate "><%= classic_cocktail.name%></h4>
              <p class="inline-block  max-w-[160px] p-1 text-gray-500 truncate  rounded-md"><%= classic_cocktail.base_wine%></p>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
</div>
