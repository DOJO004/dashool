<div data-controller="navbar" class="relative shadow-lg" >
  <div class="flex items-center justify-between p-2 overflow-hidden bg-neutral-700">
    <%= link_to root_path, aria: { label: "Home" } do%>
      <h1>Dashool</h1>
    <% end %>
    <div data-action="click->navbar#showMenu" class="p-1 cursor-pointer" >
      <span  class="block w-8 h-1 my-2 transition-all duration-500 bg-white rounded-md "></span>
      <span  class="block w-8 h-1 my-2 transition-all duration-500 bg-white rounded-md "></span>
    </div>
  </div>
  <div data-navbar-target="menu" class="fixed top-0 right-0 w-0 h-full overflow-hidden transition-all duration-500 lg:top-12 bg-neutral-900 ">
    <div class="absolute top-0 w-full mb-4 whitespace-nowrap ">
      <% if current_user %>
        <%= link_to "個人檔案", profile_path(current_user.profile.id), class:"my-4  block text-center" %>
        <div class="my-4 ">
          <p class="text-center" data-action="click->navbar#showSettings">設定</p>
          <div data-navbar-target="settings" class="h-0 overflow-hidden transition-all duration-300 ease-in-out bg-neutral-800">
            <div data-controller="show-language" class="w-full max-w-3xl mx-auto my-4 cursor-pointer">
              <p data-action="click->show-language#show" class="w-full text-center">
                <%= t("setting.language") %>
              </p>
              <div data-show-language-target="language" class="h-0 overflow-hidden transition-all duration-300 ease-in-out">
                <div class="py-2 mt-2 rounded-md bg-neutral-700">
                  <%= link_to "中文", { locale: "tw" }, class: "w-full block mt-2 text-center " %>
                  <%= link_to "English", { locale: "en" }, class: "w-full block mt-2 text-center " %>
                </div>
              </div>
            </div>
          </div>
        </div>
        <%= button_to t("navbar.logout"), destroy_user_session_path, data:{ turbo: false }, method: :delete, class:" w-full "%>
      <% else %>
        <%= link_to "註冊會員", new_user_registration_path, class:"my-4   text-center block bg-amber-900 w-fit mx-auto p-2 rounded-md " %>
        <%= link_to t("navbar.login"), new_user_session_path, class:"my-4   text-center block " %>
      <% end %>
      <hr class="my-4">
      <%= link_to "創意調酒", cocktails_path, class:"my-4 mt-4 text-center block"%>
      <%= link_to "經典調酒", classic_cocktails_path, class:"my-4 mt-4 text-center block"%>
      <p class="my-4 text-center ">調酒知識</p>
      <p class="my-4 text-center "><%= t("navbar.about_dashool")%></p>
    </div>
    <button data-action="click->navbar#closeMenu" class="absolute top-0 p-2 right-3 ">X</button>
  </div>
</div>